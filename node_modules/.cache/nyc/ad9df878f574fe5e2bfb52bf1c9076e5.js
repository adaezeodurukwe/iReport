'use strict';var cov_vc763ewmd=function(){var path="C:\\Users\\user pc\\Documents\\iReport\\server\\model\\userModel.js",hash="8d912244abf07c95b87b68062349ac1a6d5e4801",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\user pc\\Documents\\iReport\\server\\model\\userModel.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:9},end:{line:7,column:27}},"2":{start:{line:9,column:10},end:{line:9,column:36}},"3":{start:{line:11,column:14},end:{line:11,column:31}},"4":{start:{line:13,column:15},end:{line:13,column:46}},"5":{start:{line:15,column:15},end:{line:15,column:39}},"6":{start:{line:17,column:16},end:{line:17,column:48}},"7":{start:{line:19,column:39},end:{line:19,column:93}},"8":{start:{line:37,column:20},end:{line:37,column:192}},"9":{start:{line:38,column:23},end:{line:38,column:165}},"10":{start:{line:39,column:25},end:{line:39,column:67}},"11":{start:{line:40,column:8},end:{line:40,column:23}},"12":{start:{line:49,column:20},end:{line:49,column:58}},"13":{start:{line:50,column:23},end:{line:50,column:30}},"14":{start:{line:52,column:25},end:{line:52,column:67}},"15":{start:{line:53,column:8},end:{line:53,column:23}},"16":{start:{line:57,column:20},end:{line:57,column:55}},"17":{start:{line:58,column:23},end:{line:58,column:27}},"18":{start:{line:60,column:25},end:{line:60,column:67}},"19":{start:{line:61,column:8},end:{line:61,column:23}},"20":{start:{line:65,column:0},end:{line:65,column:24}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:19,column:9},end:{line:19,column:31}},loc:{start:{line:19,column:37},end:{line:19,column:95}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:108},end:{line:41,column:5}},line:36},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:31},end:{line:54,column:5}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:29},end:{line:62,column:5}},line:56}},branchMap:{"0":{loc:{start:{line:19,column:46},end:{line:19,column:92}},type:"cond-expr",locations:[{start:{line:19,column:70},end:{line:19,column:73}},{start:{line:19,column:76},end:{line:19,column:92}}],line:19},"1":{loc:{start:{line:19,column:46},end:{line:19,column:67}},type:"binary-expr",locations:[{start:{line:19,column:46},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:67}}],line:19},"2":{loc:{start:{line:36,column:91},end:{line:36,column:106}},type:"default-arg",locations:[{start:{line:36,column:101},end:{line:36,column:106}}],line:36}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_vc763ewmd.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _v=(cov_vc763ewmd.s[1]++,require('uuid/v4'));var _v2=(cov_vc763ewmd.s[2]++,_interopRequireDefault(_v));var _moment=(cov_vc763ewmd.s[3]++,require('moment'));var _moment2=(cov_vc763ewmd.s[4]++,_interopRequireDefault(_moment));var _connect=(cov_vc763ewmd.s[5]++,require('../db/connect'));var _connect2=(cov_vc763ewmd.s[6]++,_interopRequireDefault(_connect));function _interopRequireDefault(obj){cov_vc763ewmd.f[0]++;cov_vc763ewmd.s[7]++;return(cov_vc763ewmd.b[1][0]++,obj)&&(cov_vc763ewmd.b[1][1]++,obj.__esModule)?(cov_vc763ewmd.b[0][0]++,obj):(cov_vc763ewmd.b[0][1]++,{default:obj});}/**
 * @class Model
 */class Model{/**
     * @async create
     * @param {*} firstname
     * @param {*} lastname
     * @param {*} othernames
     * @param {*} email
     * @param {*} password
     * @param {*} phone
     * @param {*} isAdmin
     * @returns {object}
     */static async create(firstname,lastname,username,othernames,email,password,phone,isAdmin=(cov_vc763ewmd.b[2][0]++,false)){cov_vc763ewmd.f[1]++;const sql=(cov_vc763ewmd.s[8]++,'INSERT INTO users(id, firstname, lastname, username, othernames, email, password, phone, registered, isAdmin) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING *');const values=(cov_vc763ewmd.s[9]++,[(0,_v2.default)(),firstname,lastname,username,othernames,email,password,phone,(0,_moment2.default)().format('DD/MM/YYYY'),isAdmin]);const{rows}=(cov_vc763ewmd.s[10]++,await _connect2.default.query(sql,values));cov_vc763ewmd.s[11]++;return rows[0];}/**
     * @async getOne
     * @param {*} email
     * @returns {object}
     */static async getOne(email){cov_vc763ewmd.f[2]++;const sql=(cov_vc763ewmd.s[12]++,'SELECT * FROM users WHERE email = $1');const values=(cov_vc763ewmd.s[13]++,[email]);const{rows}=(cov_vc763ewmd.s[14]++,await _connect2.default.query(sql,values));cov_vc763ewmd.s[15]++;return rows[0];}static async getById(id){cov_vc763ewmd.f[3]++;const sql=(cov_vc763ewmd.s[16]++,'SELECT * FROM users WHERE id = $1');const values=(cov_vc763ewmd.s[17]++,[id]);const{rows}=(cov_vc763ewmd.s[18]++,await _connect2.default.query(sql,values));cov_vc763ewmd.s[19]++;return rows[0];}}// User Model
cov_vc763ewmd.s[20]++;exports.default=Model;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJNb2RlbCIsImNyZWF0ZSIsImZpcnN0bmFtZSIsImxhc3RuYW1lIiwidXNlcm5hbWUiLCJvdGhlcm5hbWVzIiwiZW1haWwiLCJwYXNzd29yZCIsInBob25lIiwiaXNBZG1pbiIsInNxbCIsInZhbHVlcyIsImZvcm1hdCIsInJvd3MiLCJwb29sIiwicXVlcnkiLCJnZXRPbmUiLCJnZXRCeUlkIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBR0E7OztBQUdBLE1BQU1BLEtBQU4sQ0FBWTtBQUNSOzs7Ozs7Ozs7OztBQVdBLGlCQUFhQyxNQUFiLENBQ0lDLFNBREosRUFDZUMsUUFEZixFQUN5QkMsUUFEekIsRUFDbUNDLFVBRG5DLEVBQytDQyxLQUQvQyxFQUNzREMsUUFEdEQsRUFDZ0VDLEtBRGhFLEVBQ3VFQyxVQUFVLEtBRGpGLEVBRUU7QUFDRSxjQUFNQyxNQUFNLDRLQUFaO0FBQ0EsY0FBTUMsU0FBUyxDQUNYLGtCQURXLEVBRVhULFNBRlcsRUFHWEMsUUFIVyxFQUlYQyxRQUpXLEVBS1hDLFVBTFcsRUFNWEMsS0FOVyxFQU9YQyxRQVBXLEVBUVhDLEtBUlcsRUFTWCx3QkFBU0ksTUFBVCxDQUFnQixZQUFoQixDQVRXLEVBVVhILE9BVlcsQ0FBZjtBQVlBLGNBQU0sRUFBRUksSUFBRixLQUFXLE1BQU1DLGtCQUFLQyxLQUFMLENBQVdMLEdBQVgsRUFBZ0JDLE1BQWhCLENBQXZCO0FBQ0EsZUFBT0UsS0FBSyxDQUFMLENBQVA7QUFDSDs7QUFFRDs7Ozs7QUFLQSxpQkFBYUcsTUFBYixDQUFvQlYsS0FBcEIsRUFBMkI7QUFDdkIsY0FBTUksTUFBTSxzQ0FBWjtBQUNBLGNBQU1DLFNBQVMsQ0FBQ0wsS0FBRCxDQUFmOztBQUVBLGNBQU0sRUFBRU8sSUFBRixLQUFXLE1BQU1DLGtCQUFLQyxLQUFMLENBQVdMLEdBQVgsRUFBZ0JDLE1BQWhCLENBQXZCO0FBQ0EsZUFBT0UsS0FBSyxDQUFMLENBQVA7QUFDSDs7QUFFRCxpQkFBYUksT0FBYixDQUFxQkMsRUFBckIsRUFBeUI7QUFDckIsY0FBTVIsTUFBTSxtQ0FBWjtBQUNBLGNBQU1DLFNBQVMsQ0FBQ08sRUFBRCxDQUFmOztBQUVBLGNBQU0sRUFBRUwsSUFBRixLQUFXLE1BQU1DLGtCQUFLQyxLQUFMLENBQVdMLEdBQVgsRUFBZ0JDLE1BQWhCLENBQXZCO0FBQ0EsZUFBT0UsS0FBSyxDQUFMLENBQVA7QUFDSDtBQW5ETyxDLENBVlo7O2tCQWdFZWIsSyIsImZpbGUiOiJ1c2VyTW9kZWwuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvdXNlciBwYy9Eb2N1bWVudHMvaVJlcG9ydC9zZXJ2ZXIvbW9kZWwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVc2VyIE1vZGVsXHJcblxyXG5pbXBvcnQgdXVpZHY0IGZyb20gJ3V1aWQvdjQnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCBwb29sIGZyb20gJy4uL2RiL2Nvbm5lY3QnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgTW9kZWxcclxuICovXHJcbmNsYXNzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogQGFzeW5jIGNyZWF0ZVxyXG4gICAgICogQHBhcmFtIHsqfSBmaXJzdG5hbWVcclxuICAgICAqIEBwYXJhbSB7Kn0gbGFzdG5hbWVcclxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXJuYW1lc1xyXG4gICAgICogQHBhcmFtIHsqfSBlbWFpbFxyXG4gICAgICogQHBhcmFtIHsqfSBwYXNzd29yZFxyXG4gICAgICogQHBhcmFtIHsqfSBwaG9uZVxyXG4gICAgICogQHBhcmFtIHsqfSBpc0FkbWluXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKFxyXG4gICAgICAgIGZpcnN0bmFtZSwgbGFzdG5hbWUsIHVzZXJuYW1lLCBvdGhlcm5hbWVzLCBlbWFpbCwgcGFzc3dvcmQsIHBob25lLCBpc0FkbWluID0gZmFsc2UsXHJcbiAgICApIHtcclxuICAgICAgICBjb25zdCBzcWwgPSAnSU5TRVJUIElOVE8gdXNlcnMoaWQsIGZpcnN0bmFtZSwgbGFzdG5hbWUsIHVzZXJuYW1lLCBvdGhlcm5hbWVzLCBlbWFpbCwgcGFzc3dvcmQsIHBob25lLCByZWdpc3RlcmVkLCBpc0FkbWluKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOCwgJDksICQxMCkgUkVUVVJOSU5HIConO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtcclxuICAgICAgICAgICAgdXVpZHY0KCksXHJcbiAgICAgICAgICAgIGZpcnN0bmFtZSxcclxuICAgICAgICAgICAgbGFzdG5hbWUsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBvdGhlcm5hbWVzLFxyXG4gICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIHBob25lLFxyXG4gICAgICAgICAgICBtb21lbnQoKS5mb3JtYXQoJ0REL01NL1lZWVknKSxcclxuICAgICAgICAgICAgaXNBZG1pbixcclxuICAgICAgICBdO1xyXG4gICAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgcG9vbC5xdWVyeShzcWwsIHZhbHVlcyk7XHJcbiAgICAgICAgcmV0dXJuIHJvd3NbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAYXN5bmMgZ2V0T25lXHJcbiAgICAgKiBAcGFyYW0geyp9IGVtYWlsXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0T25lKGVtYWlsKSB7XHJcbiAgICAgICAgY29uc3Qgc3FsID0gJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAkMSc7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW2VtYWlsXTtcclxuXHJcbiAgICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBwb29sLnF1ZXJ5KHNxbCwgdmFsdWVzKTtcclxuICAgICAgICByZXR1cm4gcm93c1swXTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlJZChpZCkge1xyXG4gICAgICAgIGNvbnN0IHNxbCA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gJDEnO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtpZF07XHJcblxyXG4gICAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgcG9vbC5xdWVyeShzcWwsIHZhbHVlcyk7XHJcbiAgICAgICAgcmV0dXJuIHJvd3NbMF07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xyXG4iXX0=