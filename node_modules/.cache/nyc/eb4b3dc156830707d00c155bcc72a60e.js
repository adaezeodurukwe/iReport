'use strict';var cov_2g3cjleta0=function(){var path="C:\\Users\\user pc\\Documents\\iReport\\server\\middleware\\validateInput.js",hash="211a54b66094ad1b1044b9c0ab1afdb1b33151b0",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\user pc\\Documents\\iReport\\server\\middleware\\validateInput.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:158}},"2":{start:{line:8,column:13},end:{line:8,column:47}},"3":{start:{line:11,column:15},end:{line:11,column:316}},"4":{start:{line:16,column:15},end:{line:16,column:139}},"5":{start:{line:19,column:15},end:{line:19,column:333}},"6":{start:{line:22,column:18},end:{line:22,column:80}},"7":{start:{line:25,column:23},end:{line:25,column:86}},"8":{start:{line:28,column:22},end:{line:28,column:105}},"9":{start:{line:31,column:26},end:{line:38,column:1}},"10":{start:{line:32,column:19},end:{line:32,column:52}},"11":{start:{line:34,column:4},end:{line:36,column:5}},"12":{start:{line:35,column:8},end:{line:35,column:88}},"13":{start:{line:35,column:74},end:{line:35,column:83}},"14":{start:{line:37,column:4},end:{line:37,column:18}},"15":{start:{line:40,column:0},end:{line:40,column:24}},"16":{start:{line:41,column:0},end:{line:41,column:24}},"17":{start:{line:42,column:0},end:{line:42,column:24}},"18":{start:{line:43,column:0},end:{line:43,column:40}},"19":{start:{line:44,column:0},end:{line:44,column:38}},"20":{start:{line:45,column:0},end:{line:45,column:30}},"21":{start:{line:46,column:0},end:{line:46,column:46}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:31,column:26},end:{line:31,column:27}},loc:{start:{line:31,column:46},end:{line:38,column:1}},line:31},"1":{name:"(anonymous_1)",decl:{start:{line:35,column:65},end:{line:35,column:66}},loc:{start:{line:35,column:74},end:{line:35,column:83}},line:35}},branchMap:{"0":{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:34,column:4},end:{line:36,column:5}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2g3cjleta0.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2g3cjleta0.s[1]++;exports.validationHandler=exports.parameter=exports.updateComment=exports.updateLocation=exports.record=exports.signin=exports.signUp=undefined;var _check=(cov_2g3cjleta0.s[2]++,require('express-validator/check'));// Validate signup input
const signUp=(cov_2g3cjleta0.s[3]++,[(0,_check.body)('firstname','Firstname required').exists(),(0,_check.body)('lastname','lastname required').exists(),(0,_check.body)('email','Enter valid email').exists().isEmail(),(0,_check.body)('password','Password should contain at least four characters').exists().isLength({min:4})]);// Validate signin input
// Validate middleware
const signin=(cov_2g3cjleta0.s[4]++,[(0,_check.body)('email','Enter valid email').exists().isEmail(),(0,_check.body)('password','Enter password').exists()]);// Validate create record input
const record=(cov_2g3cjleta0.s[5]++,[(0,_check.body)('type','Type is required').exists(),(0,_check.body)('type','type should be either \'red flag\' or \'intervention\'').isIn('red flag','intervention'),(0,_check.body)('location','Location is required').exists(),(0,_check.body)('comment','Comment is required').exists().isLength({min:10})]);// Validate param
const parameter=(cov_2g3cjleta0.s[6]++,[(0,_check.param)('id','Invalid id').isUUID({Version:4})]);// Validate update location input
const updateLocation=(cov_2g3cjleta0.s[7]++,[(0,_check.body)('location','Location is required').exists()]);// Validate update comment input
const updateComment=(cov_2g3cjleta0.s[8]++,[(0,_check.body)('comment','Comment is required').exists().isLength({min:10})]);// Handle validation errors
cov_2g3cjleta0.s[9]++;const validationHandler=(req,res,next)=>{cov_2g3cjleta0.f[0]++;const errors=(cov_2g3cjleta0.s[10]++,(0,_check.validationResult)(req));cov_2g3cjleta0.s[11]++;if(!errors.isEmpty()){cov_2g3cjleta0.b[0][0]++;cov_2g3cjleta0.s[12]++;return res.status(422).json({errors:errors.array().map(error=>{cov_2g3cjleta0.f[1]++;cov_2g3cjleta0.s[13]++;return error.msg;})});}else{cov_2g3cjleta0.b[0][1]++;}cov_2g3cjleta0.s[14]++;return next();};cov_2g3cjleta0.s[15]++;exports.signUp=signUp;cov_2g3cjleta0.s[16]++;exports.signin=signin;cov_2g3cjleta0.s[17]++;exports.record=record;cov_2g3cjleta0.s[18]++;exports.updateLocation=updateLocation;cov_2g3cjleta0.s[19]++;exports.updateComment=updateComment;cov_2g3cjleta0.s[20]++;exports.parameter=parameter;cov_2g3cjleta0.s[21]++;exports.validationHandler=validationHandler;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlSW5wdXQuanMiXSwibmFtZXMiOlsic2lnblVwIiwiZXhpc3RzIiwiaXNFbWFpbCIsImlzTGVuZ3RoIiwibWluIiwic2lnbmluIiwicmVjb3JkIiwiaXNJbiIsInBhcmFtZXRlciIsImlzVVVJRCIsIlZlcnNpb24iLCJ1cGRhdGVMb2NhdGlvbiIsInVwZGF0ZUNvbW1lbnQiLCJ2YWxpZGF0aW9uSGFuZGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvcnMiLCJpc0VtcHR5Iiwic3RhdHVzIiwianNvbiIsImFycmF5IiwibWFwIiwiZXJyb3IiLCJtc2ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7QUFFQTtBQUNBLE1BQU1BLFNBQVMsQ0FDWCxpQkFBSyxXQUFMLEVBQWtCLG9CQUFsQixFQUF3Q0MsTUFBeEMsRUFEVyxFQUdYLGlCQUFLLFVBQUwsRUFBaUIsbUJBQWpCLEVBQXNDQSxNQUF0QyxFQUhXLEVBS1gsaUJBQUssT0FBTCxFQUFjLG1CQUFkLEVBQW1DQSxNQUFuQyxHQUE0Q0MsT0FBNUMsRUFMVyxFQU9YLGlCQUFLLFVBQUwsRUFBaUIsa0RBQWpCLEVBQXFFRCxNQUFyRSxHQUE4RUUsUUFBOUUsQ0FBdUYsRUFBRUMsS0FBSyxDQUFQLEVBQXZGLENBUFcsQ0FBZjs7QUFXQTtBQWhCQTs7QUFpQkEsTUFBTUMsU0FBUyxDQUNYLGlCQUFLLE9BQUwsRUFBYyxtQkFBZCxFQUFtQ0osTUFBbkMsR0FBNENDLE9BQTVDLEVBRFcsRUFHWCxpQkFBSyxVQUFMLEVBQWlCLGdCQUFqQixFQUFtQ0QsTUFBbkMsRUFIVyxDQUFmOztBQU1BO0FBQ0EsTUFBTUssU0FBUyxDQUNYLGlCQUFLLE1BQUwsRUFBYSxrQkFBYixFQUFpQ0wsTUFBakMsRUFEVyxFQUdYLGlCQUFLLE1BQUwsRUFBYSx3REFBYixFQUF1RU0sSUFBdkUsQ0FBNEUsVUFBNUUsRUFBd0YsY0FBeEYsQ0FIVyxFQUtYLGlCQUFLLFVBQUwsRUFBaUIsc0JBQWpCLEVBQXlDTixNQUF6QyxFQUxXLEVBT1gsaUJBQUssU0FBTCxFQUFnQixxQkFBaEIsRUFBdUNBLE1BQXZDLEdBQWdERSxRQUFoRCxDQUF5RCxFQUFFQyxLQUFLLEVBQVAsRUFBekQsQ0FQVyxDQUFmOztBQVVBO0FBQ0EsTUFBTUksWUFBWSxDQUNkLGtCQUFNLElBQU4sRUFBWSxZQUFaLEVBQTBCQyxNQUExQixDQUFpQyxFQUFFQyxTQUFTLENBQVgsRUFBakMsQ0FEYyxDQUFsQjs7QUFJQTtBQUNBLE1BQU1DLGlCQUFpQixDQUNuQixpQkFBSyxVQUFMLEVBQWlCLHNCQUFqQixFQUF5Q1YsTUFBekMsRUFEbUIsQ0FBdkI7O0FBSUE7QUFDQSxNQUFNVyxnQkFBZ0IsQ0FDbEIsaUJBQUssU0FBTCxFQUFnQixxQkFBaEIsRUFBdUNYLE1BQXZDLEdBQWdERSxRQUFoRCxDQUF5RCxFQUFFQyxLQUFLLEVBQVAsRUFBekQsQ0FEa0IsQ0FBdEI7O0FBS0E7QUFDQSxNQUFNUyxvQkFBb0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDMUMsVUFBTUMsU0FBUyw2QkFBaUJILEdBQWpCLENBQWY7O0FBRUEsUUFBSSxDQUFDRyxPQUFPQyxPQUFQLEVBQUwsRUFBdUI7QUFDbkIsZUFBT0gsSUFBSUksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVILFFBQVFBLE9BQU9JLEtBQVAsR0FBZUMsR0FBZixDQUFtQkMsU0FBU0EsTUFBTUMsR0FBbEMsQ0FBVixFQUFyQixDQUFQO0FBQ0g7QUFDRCxXQUFPUixNQUFQO0FBQ0gsQ0FQRDs7UUFXSWhCLE0sR0FBQUEsTTtRQUFRSyxNLEdBQUFBLE07UUFBUUMsTSxHQUFBQSxNO1FBQVFLLGMsR0FBQUEsYztRQUFnQkMsYSxHQUFBQSxhO1FBQWVKLFMsR0FBQUEsUztRQUFXSyxpQixHQUFBQSxpQiIsImZpbGUiOiJ2YWxpZGF0ZUlucHV0LmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL3VzZXIgcGMvRG9jdW1lbnRzL2lSZXBvcnQvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWYWxpZGF0ZSBtaWRkbGV3YXJlXHJcblxyXG5pbXBvcnQgeyBib2R5LCBwYXJhbSwgdmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJ2V4cHJlc3MtdmFsaWRhdG9yL2NoZWNrJztcclxuXHJcbi8vIFZhbGlkYXRlIHNpZ251cCBpbnB1dFxyXG5jb25zdCBzaWduVXAgPSBbXHJcbiAgICBib2R5KCdmaXJzdG5hbWUnLCAnRmlyc3RuYW1lIHJlcXVpcmVkJykuZXhpc3RzKCksXHJcblxyXG4gICAgYm9keSgnbGFzdG5hbWUnLCAnbGFzdG5hbWUgcmVxdWlyZWQnKS5leGlzdHMoKSxcclxuXHJcbiAgICBib2R5KCdlbWFpbCcsICdFbnRlciB2YWxpZCBlbWFpbCcpLmV4aXN0cygpLmlzRW1haWwoKSxcclxuXHJcbiAgICBib2R5KCdwYXNzd29yZCcsICdQYXNzd29yZCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCBmb3VyIGNoYXJhY3RlcnMnKS5leGlzdHMoKS5pc0xlbmd0aCh7IG1pbjogNCB9KSxcclxuXHJcbl07XHJcblxyXG4vLyBWYWxpZGF0ZSBzaWduaW4gaW5wdXRcclxuY29uc3Qgc2lnbmluID0gW1xyXG4gICAgYm9keSgnZW1haWwnLCAnRW50ZXIgdmFsaWQgZW1haWwnKS5leGlzdHMoKS5pc0VtYWlsKCksXHJcblxyXG4gICAgYm9keSgncGFzc3dvcmQnLCAnRW50ZXIgcGFzc3dvcmQnKS5leGlzdHMoKSxcclxuXTtcclxuXHJcbi8vIFZhbGlkYXRlIGNyZWF0ZSByZWNvcmQgaW5wdXRcclxuY29uc3QgcmVjb3JkID0gW1xyXG4gICAgYm9keSgndHlwZScsICdUeXBlIGlzIHJlcXVpcmVkJykuZXhpc3RzKCksXHJcblxyXG4gICAgYm9keSgndHlwZScsICd0eXBlIHNob3VsZCBiZSBlaXRoZXIgXFwncmVkIGZsYWdcXCcgb3IgXFwnaW50ZXJ2ZW50aW9uXFwnJykuaXNJbigncmVkIGZsYWcnLCAnaW50ZXJ2ZW50aW9uJyksXHJcblxyXG4gICAgYm9keSgnbG9jYXRpb24nLCAnTG9jYXRpb24gaXMgcmVxdWlyZWQnKS5leGlzdHMoKSxcclxuXHJcbiAgICBib2R5KCdjb21tZW50JywgJ0NvbW1lbnQgaXMgcmVxdWlyZWQnKS5leGlzdHMoKS5pc0xlbmd0aCh7IG1pbjogMTAgfSksXHJcbl07XHJcblxyXG4vLyBWYWxpZGF0ZSBwYXJhbVxyXG5jb25zdCBwYXJhbWV0ZXIgPSBbXHJcbiAgICBwYXJhbSgnaWQnLCAnSW52YWxpZCBpZCcpLmlzVVVJRCh7IFZlcnNpb246IDQgfSksXHJcbl07XHJcblxyXG4vLyBWYWxpZGF0ZSB1cGRhdGUgbG9jYXRpb24gaW5wdXRcclxuY29uc3QgdXBkYXRlTG9jYXRpb24gPSBbXHJcbiAgICBib2R5KCdsb2NhdGlvbicsICdMb2NhdGlvbiBpcyByZXF1aXJlZCcpLmV4aXN0cygpLFxyXG5dO1xyXG5cclxuLy8gVmFsaWRhdGUgdXBkYXRlIGNvbW1lbnQgaW5wdXRcclxuY29uc3QgdXBkYXRlQ29tbWVudCA9IFtcclxuICAgIGJvZHkoJ2NvbW1lbnQnLCAnQ29tbWVudCBpcyByZXF1aXJlZCcpLmV4aXN0cygpLmlzTGVuZ3RoKHsgbWluOiAxMCB9KSxcclxuXTtcclxuXHJcblxyXG4vLyBIYW5kbGUgdmFsaWRhdGlvbiBlcnJvcnNcclxuY29uc3QgdmFsaWRhdGlvbkhhbmRsZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcclxuXHJcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBlcnJvcnM6IGVycm9ycy5hcnJheSgpLm1hcChlcnJvciA9PiBlcnJvci5tc2cpIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5leHQoKTtcclxufTtcclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgc2lnblVwLCBzaWduaW4sIHJlY29yZCwgdXBkYXRlTG9jYXRpb24sIHVwZGF0ZUNvbW1lbnQsIHBhcmFtZXRlciwgdmFsaWRhdGlvbkhhbmRsZXIsXHJcbn07XHJcbiJdfQ==