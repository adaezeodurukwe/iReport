'use strict';var cov_mihs77e3=function(){var path="C:\\Users\\user pc\\Documents\\iReport\\server\\controller\\userController.js",hash="a9558826356b1c2662f430634e03525aa389b764",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\user pc\\Documents\\iReport\\server\\controller\\userController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:17},end:{line:7,column:46}},"2":{start:{line:9,column:18},end:{line:9,column:52}},"3":{start:{line:11,column:14},end:{line:11,column:33}},"4":{start:{line:13,column:13},end:{line:13,column:45}},"5":{start:{line:15,column:40},end:{line:15,column:267}},"6":{start:{line:15,column:69},end:{line:15,column:80}},"7":{start:{line:15,column:103},end:{line:15,column:105}},"8":{start:{line:15,column:107},end:{line:15,column:228}},"9":{start:{line:15,column:126},end:{line:15,column:226}},"10":{start:{line:15,column:149},end:{line:15,column:224}},"11":{start:{line:15,column:201},end:{line:15,column:224}},"12":{start:{line:15,column:229},end:{line:15,column:250}},"13":{start:{line:15,column:251},end:{line:15,column:265}},"14":{start:{line:17,column:39},end:{line:17,column:93}},"15":{start:{line:32,column:25},end:{line:32,column:68}},"16":{start:{line:33,column:8},end:{line:47,column:9}},"17":{start:{line:34,column:28},end:{line:34,column:163}},"18":{start:{line:35,column:30},end:{line:35,column:62}},"19":{start:{line:36,column:12},end:{line:42,column:15}},"20":{start:{line:44,column:12},end:{line:46,column:15}},"21":{start:{line:57,column:8},end:{line:76,column:9}},"22":{start:{line:58,column:25},end:{line:58,column:73}},"23":{start:{line:59,column:26},end:{line:59,column:80}},"24":{start:{line:60,column:12},end:{line:62,column:13}},"25":{start:{line:61,column:16},end:{line:61,column:81}},"26":{start:{line:63,column:30},end:{line:63,column:59}},"27":{start:{line:64,column:12},end:{line:71,column:15}},"28":{start:{line:73,column:12},end:{line:75,column:15}},"29":{start:{line:80,column:0},end:{line:80,column:23}}},fnMap:{"0":{name:"_interopRequireWildcard",decl:{start:{line:15,column:9},end:{line:15,column:32}},loc:{start:{line:15,column:38},end:{line:15,column:269}},line:15},"1":{name:"_interopRequireDefault",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:37},end:{line:17,column:95}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:38},end:{line:48,column:5}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:33},end:{line:77,column:5}},line:56}},branchMap:{"0":{loc:{start:{line:15,column:40},end:{line:15,column:267}},type:"if",locations:[{start:{line:15,column:40},end:{line:15,column:267}},{start:{line:15,column:40},end:{line:15,column:267}}],line:15},"1":{loc:{start:{line:15,column:44},end:{line:15,column:65}},type:"binary-expr",locations:[{start:{line:15,column:44},end:{line:15,column:47}},{start:{line:15,column:51},end:{line:15,column:65}}],line:15},"2":{loc:{start:{line:15,column:107},end:{line:15,column:228}},type:"if",locations:[{start:{line:15,column:107},end:{line:15,column:228}},{start:{line:15,column:107},end:{line:15,column:228}}],line:15},"3":{loc:{start:{line:15,column:149},end:{line:15,column:224}},type:"if",locations:[{start:{line:15,column:149},end:{line:15,column:224}},{start:{line:15,column:149},end:{line:15,column:224}}],line:15},"4":{loc:{start:{line:17,column:46},end:{line:17,column:92}},type:"cond-expr",locations:[{start:{line:17,column:70},end:{line:17,column:73}},{start:{line:17,column:76},end:{line:17,column:92}}],line:17},"5":{loc:{start:{line:17,column:46},end:{line:17,column:67}},type:"binary-expr",locations:[{start:{line:17,column:46},end:{line:17,column:49}},{start:{line:17,column:53},end:{line:17,column:67}}],line:17},"6":{loc:{start:{line:60,column:12},end:{line:62,column:13}},type:"if",locations:[{start:{line:60,column:12},end:{line:62,column:13}},{start:{line:60,column:12},end:{line:62,column:13}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_mihs77e3.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _userModel=(cov_mihs77e3.s[1]++,require('../model/userModel'));var _userModel2=(cov_mihs77e3.s[2]++,_interopRequireDefault(_userModel));var _helper=(cov_mihs77e3.s[3]++,require('./helper'));var Helper=(cov_mihs77e3.s[4]++,_interopRequireWildcard(_helper));function _interopRequireWildcard(obj){cov_mihs77e3.f[0]++;cov_mihs77e3.s[5]++;if((cov_mihs77e3.b[1][0]++,obj)&&(cov_mihs77e3.b[1][1]++,obj.__esModule)){cov_mihs77e3.b[0][0]++;cov_mihs77e3.s[6]++;return obj;}else{cov_mihs77e3.b[0][1]++;var newObj=(cov_mihs77e3.s[7]++,{});cov_mihs77e3.s[8]++;if(obj!=null){cov_mihs77e3.b[2][0]++;cov_mihs77e3.s[9]++;for(var key in obj){cov_mihs77e3.s[10]++;if(Object.prototype.hasOwnProperty.call(obj,key)){cov_mihs77e3.b[3][0]++;cov_mihs77e3.s[11]++;newObj[key]=obj[key];}else{cov_mihs77e3.b[3][1]++;}}}else{cov_mihs77e3.b[2][1]++;}cov_mihs77e3.s[12]++;newObj.default=obj;cov_mihs77e3.s[13]++;return newObj;}}function _interopRequireDefault(obj){cov_mihs77e3.f[1]++;cov_mihs77e3.s[14]++;return(cov_mihs77e3.b[5][0]++,obj)&&(cov_mihs77e3.b[5][1]++,obj.__esModule)?(cov_mihs77e3.b[4][0]++,obj):(cov_mihs77e3.b[4][1]++,{default:obj});}/**
 * @class User
 */ // User controller
class User{/**
     * @async createUser
     * @param {*} req
     * @param {*} res
     * @returns {object}
     */static async createUser(req,res){cov_mihs77e3.f[2]++;const password=(cov_mihs77e3.s[15]++,Helper.encryptedPassword(req.body.password));cov_mihs77e3.s[16]++;try{const newUser=(cov_mihs77e3.s[17]++,await _userModel2.default.create(req.body.firstname,req.body.lasttname,req.body.othernames,req.body.email,password,req.body.phone));const userToken=(cov_mihs77e3.s[18]++,Helper.generateToken(newUser.id));cov_mihs77e3.s[19]++;return res.status(201).send({status:201,data:[{token:userToken,user:newUser}]});}catch(error){cov_mihs77e3.s[20]++;return res.status(404).send({message:error});}}/**
     * @async login
     * @param {*} req
     * @param {*} res
     * @returns {object}
     */static async login(req,res){cov_mihs77e3.f[3]++;cov_mihs77e3.s[21]++;try{const user=(cov_mihs77e3.s[22]++,await _userModel2.default.getOne(req.body.email));const match=(cov_mihs77e3.s[23]++,await Helper.compare(req.body.password,user.password));cov_mihs77e3.s[24]++;if(!match){cov_mihs77e3.b[6][0]++;cov_mihs77e3.s[25]++;return res.status(400).send({message:'incorrect crdentials'});}else{cov_mihs77e3.b[6][1]++;}const userToken=(cov_mihs77e3.s[26]++,Helper.generateToken(user.id));cov_mihs77e3.s[27]++;return res.status(200).send({status:200,data:[{token:userToken,// eslint-disable-next-line object-shorthand
user:user}]});}catch(error){cov_mihs77e3.s[28]++;return res.status(404).send({message:error});}}}cov_mihs77e3.s[29]++;exports.default=User;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkhlbHBlciIsIlVzZXIiLCJjcmVhdGVVc2VyIiwicmVxIiwicmVzIiwicGFzc3dvcmQiLCJlbmNyeXB0ZWRQYXNzd29yZCIsImJvZHkiLCJuZXdVc2VyIiwiTW9kZWwiLCJjcmVhdGUiLCJmaXJzdG5hbWUiLCJsYXN0dG5hbWUiLCJvdGhlcm5hbWVzIiwiZW1haWwiLCJwaG9uZSIsInVzZXJUb2tlbiIsImdlbmVyYXRlVG9rZW4iLCJpZCIsInN0YXR1cyIsInNlbmQiLCJkYXRhIiwidG9rZW4iLCJ1c2VyIiwiZXJyb3IiLCJtZXNzYWdlIiwibG9naW4iLCJnZXRPbmUiLCJtYXRjaCIsImNvbXBhcmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7O0FBQ0E7O0lBQVlBLE07Ozs7OztBQUdaOzs7QUFOQTs7QUFTQSxNQUFNQyxJQUFOLENBQVc7QUFDUDs7Ozs7O0FBTUEsaUJBQWFDLFVBQWIsQ0FBd0JDLEdBQXhCLEVBQTZCQyxHQUE3QixFQUFrQztBQUM5QixjQUFNQyxXQUFXTCxPQUFPTSxpQkFBUCxDQUF5QkgsSUFBSUksSUFBSixDQUFTRixRQUFsQyxDQUFqQjtBQUNBLFlBQUk7QUFDQSxrQkFBTUcsVUFBVSxNQUFNQyxvQkFBTUMsTUFBTixDQUNsQlAsSUFBSUksSUFBSixDQUFTSSxTQURTLEVBRWxCUixJQUFJSSxJQUFKLENBQVNLLFNBRlMsRUFHbEJULElBQUlJLElBQUosQ0FBU00sVUFIUyxFQUlsQlYsSUFBSUksSUFBSixDQUFTTyxLQUpTLEVBS2xCVCxRQUxrQixFQU1sQkYsSUFBSUksSUFBSixDQUFTUSxLQU5TLENBQXRCO0FBUUEsa0JBQU1DLFlBQVloQixPQUFPaUIsYUFBUCxDQUFxQlQsUUFBUVUsRUFBN0IsQ0FBbEI7QUFDQSxtQkFBT2QsSUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCRCx3QkFBUSxHQURnQjtBQUV4QkUsc0JBQU0sQ0FBQztBQUNIQywyQkFBT04sU0FESjtBQUVITywwQkFBTWY7QUFGSCxpQkFBRDtBQUZrQixhQUFyQixDQUFQO0FBT0gsU0FqQkQsQ0FpQkUsT0FBT2dCLEtBQVAsRUFBYztBQUNaLG1CQUFPcEIsSUFBSWUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCSyx5QkFBU0Q7QUFEZSxhQUFyQixDQUFQO0FBR0g7QUFDSjs7QUFFRDs7Ozs7O0FBTUEsaUJBQWFFLEtBQWIsQ0FBbUJ2QixHQUFuQixFQUF3QkMsR0FBeEIsRUFBNkI7QUFDekIsWUFBSTtBQUNBLGtCQUFNbUIsT0FBTyxNQUFNZCxvQkFBTWtCLE1BQU4sQ0FBYXhCLElBQUlJLElBQUosQ0FBU08sS0FBdEIsQ0FBbkI7QUFDQSxrQkFBTWMsUUFBUSxNQUFNNUIsT0FBTzZCLE9BQVAsQ0FBZTFCLElBQUlJLElBQUosQ0FBU0YsUUFBeEIsRUFBa0NrQixLQUFLbEIsUUFBdkMsQ0FBcEI7QUFDQSxnQkFBSSxDQUFDdUIsS0FBTCxFQUFZO0FBQ1IsdUJBQU94QixJQUFJZSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUssU0FBUyxzQkFBWCxFQUFyQixDQUFQO0FBQ0g7QUFDRCxrQkFBTVQsWUFBWWhCLE9BQU9pQixhQUFQLENBQXFCTSxLQUFLTCxFQUExQixDQUFsQjtBQUNBLG1CQUFPZCxJQUFJZSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDeEJELHdCQUFRLEdBRGdCO0FBRXhCRSxzQkFBTSxDQUFDO0FBQ0hDLDJCQUFPTixTQURKO0FBRUg7QUFDQU8sMEJBQU1BO0FBSEgsaUJBQUQ7QUFGa0IsYUFBckIsQ0FBUDtBQVFILFNBZkQsQ0FlRSxPQUFPQyxLQUFQLEVBQWM7QUFDWixtQkFBT3BCLElBQUllLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUN4QksseUJBQVNEO0FBRGUsYUFBckIsQ0FBUDtBQUdIO0FBQ0o7QUE1RE07O2tCQStESXZCLEkiLCJmaWxlIjoidXNlckNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvdXNlciBwYy9Eb2N1bWVudHMvaVJlcG9ydC9zZXJ2ZXIvY29udHJvbGxlciIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVzZXIgY29udHJvbGxlclxyXG5cclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL21vZGVsL3VzZXJNb2RlbCc7XHJcbmltcG9ydCAqIGFzIEhlbHBlciBmcm9tICcuL2hlbHBlcic7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBVc2VyXHJcbiAqL1xyXG5jbGFzcyBVc2VyIHtcclxuICAgIC8qKlxyXG4gICAgICogQGFzeW5jIGNyZWF0ZVVzZXJcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVxXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlc1xyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVVzZXIocmVxLCByZXMpIHtcclxuICAgICAgICBjb25zdCBwYXNzd29yZCA9IEhlbHBlci5lbmNyeXB0ZWRQYXNzd29yZChyZXEuYm9keS5wYXNzd29yZCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IE1vZGVsLmNyZWF0ZShcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmZpcnN0bmFtZSxcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5Lmxhc3R0bmFtZSxcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5Lm90aGVybmFtZXMsXHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkucGhvbmUsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9IEhlbHBlci5nZW5lcmF0ZVRva2VuKG5ld1VzZXIuaWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAyMDEsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB1c2VyVG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogbmV3VXNlcixcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBhc3luYyBsb2dpblxyXG4gICAgICogQHBhcmFtIHsqfSByZXFcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVzXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgbG9naW4ocmVxLCByZXMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWwuZ2V0T25lKHJlcS5ib2R5LmVtYWlsKTtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBIZWxwZXIuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdpbmNvcnJlY3QgY3JkZW50aWFscycgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdXNlclRva2VuID0gSGVscGVyLmdlbmVyYXRlVG9rZW4odXNlci5pZCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHVzZXJUb2tlbixcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JqZWN0LXNob3J0aGFuZFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcbiJdfQ==