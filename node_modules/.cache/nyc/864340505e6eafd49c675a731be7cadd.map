{"version":3,"sources":["dbschema.js"],"names":["createUserTable","data","pool","query","dropUserTable","createRecordsTable","dropRecordsTable"],"mappings":";;;;;;;AAEA;;;;;;AAEA;AACA,MAAMA,kBAAkB,MAAM;AAC1B,UAAMC,OAAQ;;;;;;;;;;;MAAd;AAYAC,sBAAKC,KAAL,CAAWF,IAAX;AACH,CAdD;;AAgBA;AArBA;;AAsBA,MAAMG,gBAAgB,MAAM;AACxB,UAAMH,OAAO,oCAAb;AACAC,sBAAKC,KAAL,CAAWF,IAAX;AACH,CAHD;;AAKA;AACA,MAAMI,qBAAqB,MAAM;AAC7B,UAAMJ,OAAQ;;;;;;;;;;MAAd;;AAYAC,sBAAKC,KAAL,CAAWF,IAAX;AACH,CAdD;;AAgBA;AACA,MAAMK,mBAAmB,MAAM;AAC3B,UAAML,OAAO,sCAAb;AACAC,sBAAKC,KAAL,CAAWF,IAAX;AACH,CAHD;;QAMID,e,GAAAA,e;QAAiBI,a,GAAAA,a;QAAeC,kB,GAAAA,kB;QAAoBC,gB,GAAAA,gB","file":"dbschema.js","sourceRoot":"C:/Users/user pc/Documents/iReport/server/db","sourcesContent":["// Table queries\r\n\r\nimport pool from './connect';\r\n\r\n// Create user table\r\nconst createUserTable = () => {\r\n    const data = `CREATE TABLE IF NOT EXISTS users(\r\n        id UUID PRIMARY KEY,\r\n        firstname TEXT NOT NULL,\r\n        lastname TEXT NOT NULL,\r\n        username TEXT NOT NULL,\r\n        othernames TEXT,\r\n        email VARCHAR(200) UNIQUE NOT NULL,\r\n        password VARCHAR(200) NOT NULL,\r\n        phone VARCHAR(15) NOT NULL,\r\n        registered TIMESTAMP NOT NULL,\r\n        isAdmin BOOLEAN NOT NULL\r\n    )`;\r\n    pool.query(data);\r\n};\r\n\r\n// Drop user table\r\nconst dropUserTable = () => {\r\n    const data = 'DROP TABLE IF EXISTS users CASCADE';\r\n    pool.query(data);\r\n};\r\n\r\n// Create record table\r\nconst createRecordsTable = () => {\r\n    const data = `CREATE TABLE IF NOT EXISTS records(\r\n        id UUID PRIMARY KEY,\r\n        createdOn TIMESTAMP NOT NULL,\r\n        createdBy UUID REFERENCES users(id),\r\n        type TEXT NOT NULL,\r\n        location VARCHAR(100) NOT NULL,\r\n        status TEXT NOT NULL,\r\n        images VARCHAR[],\r\n        videos VARCHAR[],\r\n        comment VARCHAR(200) NOT NULL\r\n    )`;\r\n\r\n    pool.query(data);\r\n};\r\n\r\n// Drop record table\r\nconst dropRecordsTable = () => {\r\n    const data = 'DROP TABLE IF EXISTS records CASCADE';\r\n    pool.query(data);\r\n};\r\n\r\nexport {\r\n    createUserTable, dropUserTable, createRecordsTable, dropRecordsTable,\r\n};\r\n"]}