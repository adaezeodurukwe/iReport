{"version":3,"sources":["recordsModel.js"],"names":["Model","create","createdBy","type","location","images","videos","comment","sql","values","format","rows","pool","query"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAGA,MAAMA,KAAN,CAAY;AACR,iBAAaC,MAAb,CAAoBC,SAApB,EAA+BC,IAA/B,EAAqCC,QAArC,EAA+CC,MAA/C,EAAuDC,MAAvD,EAA+DC,OAA/D,EAAwE;AACpE,cAAMC,MAAM,uJAAZ;AACA,cAAMC,SAAS,CACX,kBADW,EAEX,wBAASC,MAAT,CAAgB,YAAhB,CAFW,EAGXR,SAHW,EAIXC,IAJW,EAKXC,QALW,EAMX,OANW,EAOXC,MAPW,EAQXC,MARW,EASXC,OATW,CAAf;;AAYA,cAAM,EAAEI,IAAF,KAAW,MAAMC,kBAAKC,KAAL,CAAWL,GAAX,EAAgBC,MAAhB,CAAvB;AACA,eAAOE,KAAK,CAAL,CAAP;AACH;AAjBO,C,CAPZ;;kBA2BeX,K","file":"recordsModel.js","sourceRoot":"C:/Users/user pc/Documents/iReport/server/model","sourcesContent":["// Records Model\r\n\r\nimport uuidv4 from 'uuid/v4';\r\nimport moment from 'moment';\r\nimport pool from '../db/connect';\r\n\r\n\r\nclass Model {\r\n    static async create(createdBy, type, location, images, videos, comment) {\r\n        const sql = 'INSERT INTO records(id, createdOn, createdBy, type, location, status, images, videos, comment) VALUES($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING *';\r\n        const values = [\r\n            uuidv4(),\r\n            moment().format('DD/MM/YYYY'),\r\n            createdBy,\r\n            type,\r\n            location,\r\n            'draft',\r\n            images,\r\n            videos,\r\n            comment,\r\n        ];\r\n\r\n        const { rows } = await pool.query(sql, values);\r\n        return rows[0];\r\n    }\r\n}\r\n\r\nexport default Model;\r\n"]}