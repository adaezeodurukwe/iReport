'use strict';var cov_uogg5osda=function(){var path="C:\\Users\\user pc\\Documents\\iReport\\server\\model\\model.js",hash="f27d3ace9a132911b3786d6b65c334396a8c7be2",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\user pc\\Documents\\iReport\\server\\model\\model.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:14},end:{line:7,column:31}},"2":{start:{line:9,column:15},end:{line:9,column:46}},"3":{start:{line:11,column:16},end:{line:11,column:41}},"4":{start:{line:13,column:17},end:{line:13,column:50}},"5":{start:{line:15,column:39},end:{line:15,column:93}},"6":{start:{line:28,column:8},end:{line:28,column:34}},"7":{start:{line:37,column:27},end:{line:37,column:29}},"8":{start:{line:38,column:21},end:{line:38,column:26}},"9":{start:{line:39,column:8},end:{line:44,column:11}},"10":{start:{line:40,column:12},end:{line:42,column:13}},"11":{start:{line:41,column:16},end:{line:41,column:34}},"12":{start:{line:43,column:12},end:{line:43,column:26}},"13":{start:{line:45,column:8},end:{line:45,column:22}},"14":{start:{line:57,column:27},end:{line:57,column:56}},"15":{start:{line:58,column:28},end:{line:68,column:9}},"16":{start:{line:69,column:8},end:{line:69,column:52}},"17":{start:{line:79,column:25},end:{line:79,column:31}},"18":{start:{line:80,column:25},end:{line:80,column:36}},"19":{start:{line:82,column:8},end:{line:82,column:37}},"20":{start:{line:84,column:8},end:{line:84,column:24}},"21":{start:{line:94,column:25},end:{line:94,column:31}},"22":{start:{line:95,column:24},end:{line:95,column:34}},"23":{start:{line:97,column:8},end:{line:97,column:35}},"24":{start:{line:99,column:8},end:{line:99,column:24}},"25":{start:{line:103,column:25},end:{line:103,column:31}},"26":{start:{line:104,column:28},end:{line:104,column:64}},"27":{start:{line:106,column:8},end:{line:106,column:50}},"28":{start:{line:108,column:8},end:{line:108,column:24}},"29":{start:{line:112,column:0},end:{line:112,column:24}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:15,column:9},end:{line:15,column:31}},loc:{start:{line:15,column:37},end:{line:15,column:95}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:20},end:{line:29,column:5}},line:27},"2":{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:22},end:{line:46,column:5}},line:36},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:35},end:{line:39,column:36}},loc:{start:{line:39,column:47},end:{line:44,column:9}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:68},end:{line:70,column:5}},line:56},"5":{name:"(anonymous_5)",decl:{start:{line:78,column:4},end:{line:78,column:5}},loc:{start:{line:78,column:47},end:{line:85,column:5}},line:78},"6":{name:"(anonymous_6)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:45},end:{line:100,column:5}},line:93},"7":{name:"(anonymous_7)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:26},end:{line:109,column:5}},line:102}},branchMap:{"0":{loc:{start:{line:15,column:46},end:{line:15,column:92}},type:"cond-expr",locations:[{start:{line:15,column:70},end:{line:15,column:73}},{start:{line:15,column:76},end:{line:15,column:92}}],line:15},"1":{loc:{start:{line:15,column:46},end:{line:15,column:67}},type:"binary-expr",locations:[{start:{line:15,column:46},end:{line:15,column:49}},{start:{line:15,column:53},end:{line:15,column:67}}],line:15},"2":{loc:{start:{line:40,column:12},end:{line:42,column:13}},type:"if",locations:[{start:{line:40,column:12},end:{line:42,column:13}},{start:{line:40,column:12},end:{line:42,column:13}}],line:40}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_uogg5osda.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _moment=(cov_uogg5osda.s[1]++,require('moment'));var _moment2=(cov_uogg5osda.s[2]++,_interopRequireDefault(_moment));var _database=(cov_uogg5osda.s[3]++,require('../db/database'));var _database2=(cov_uogg5osda.s[4]++,_interopRequireDefault(_database));function _interopRequireDefault(obj){cov_uogg5osda.f[0]++;cov_uogg5osda.s[5]++;return(cov_uogg5osda.b[1][0]++,obj)&&(cov_uogg5osda.b[1][1]++,obj.__esModule)?(cov_uogg5osda.b[0][0]++,obj):(cov_uogg5osda.b[0][1]++,{default:obj});}/**
 * @class Model
 */ // Model class
class Model{/**
     * @static gatAll
     * @returns {object}
     */static getAll(){cov_uogg5osda.f[1]++;cov_uogg5osda.s[6]++;return _database2.default;}/**
     * @static getOne
     * @param {*} id
     * @returns {object}
     */static getOne(id){cov_uogg5osda.f[2]++;const incidentId=(cov_uogg5osda.s[7]++,id);let record=(cov_uogg5osda.s[8]++,false);cov_uogg5osda.s[9]++;_database2.default.forEach(incident=>{cov_uogg5osda.f[3]++;cov_uogg5osda.s[10]++;if(incident.id===incidentId){cov_uogg5osda.b[2][0]++;cov_uogg5osda.s[11]++;record=incident;}else{cov_uogg5osda.b[2][1]++;}cov_uogg5osda.s[12]++;return record;});cov_uogg5osda.s[13]++;return record;}/**
     * @async create
     * @param {*} author
     * @param {*} incidentType
     * @param {*} incidentLocation
     * @param {*} comments
     * @returns {object} incident
     */static create(author,incidentType,incidentLocation,comments){cov_uogg5osda.f[4]++;const incidentId=(cov_uogg5osda.s[14]++,_database2.default.length+1);const newIncident=(cov_uogg5osda.s[15]++,{id:incidentId,createdBy:author,createdOn:(0,_moment2.default)().format('DD/MM/YYYY'),type:incidentType,location:incidentLocation,status:'draft',images:[],videos:[],comment:comments});cov_uogg5osda.s[16]++;return _database2.default.push(newIncident);}/**
     * @static modifyLocation
     * @param {*} record
     * @param {*} newLocation
     * @returns {object} incident
     */static modifyLocation(record,newLocation){cov_uogg5osda.f[5]++;const incident=(cov_uogg5osda.s[17]++,record);const location=(cov_uogg5osda.s[18]++,newLocation);cov_uogg5osda.s[19]++;incident.location=location;cov_uogg5osda.s[20]++;return incident;}/**
     * @static modifyComment
     * @param {*} record
     * @param {*} newComment
     * @returns {object} incident
     */static modifyComment(record,newComment){cov_uogg5osda.f[6]++;const incident=(cov_uogg5osda.s[21]++,record);const comment=(cov_uogg5osda.s[22]++,newComment);cov_uogg5osda.s[23]++;incident.comment=comment;cov_uogg5osda.s[24]++;return incident;}static delete(record){cov_uogg5osda.f[7]++;const incident=(cov_uogg5osda.s[25]++,record);const recordIndex=(cov_uogg5osda.s[26]++,_database2.default.indexOf(incident));cov_uogg5osda.s[27]++;_database2.default.splice(recordIndex,1);cov_uogg5osda.s[28]++;return incident;}}cov_uogg5osda.s[29]++;exports.default=Model;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwiZ2V0QWxsIiwiaW5jaWRlbnRzIiwiZ2V0T25lIiwiaWQiLCJpbmNpZGVudElkIiwicmVjb3JkIiwiZm9yRWFjaCIsImluY2lkZW50IiwiY3JlYXRlIiwiYXV0aG9yIiwiaW5jaWRlbnRUeXBlIiwiaW5jaWRlbnRMb2NhdGlvbiIsImNvbW1lbnRzIiwibGVuZ3RoIiwibmV3SW5jaWRlbnQiLCJjcmVhdGVkQnkiLCJjcmVhdGVkT24iLCJmb3JtYXQiLCJ0eXBlIiwibG9jYXRpb24iLCJzdGF0dXMiLCJpbWFnZXMiLCJ2aWRlb3MiLCJjb21tZW50IiwicHVzaCIsIm1vZGlmeUxvY2F0aW9uIiwibmV3TG9jYXRpb24iLCJtb2RpZnlDb21tZW50IiwibmV3Q29tbWVudCIsImRlbGV0ZSIsInJlY29yZEluZGV4IiwiaW5kZXhPZiIsInNwbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7Ozs7QUFDQTs7Ozs7O0FBRUE7OztBQUxBOztBQVFBLE1BQU1BLEtBQU4sQ0FBWTtBQUNSOzs7O0FBSUEsV0FBT0MsTUFBUCxHQUFnQjtBQUNaLGVBQU9DLGtCQUFQO0FBQ0g7O0FBRUQ7Ozs7O0FBS0EsV0FBT0MsTUFBUCxDQUFjQyxFQUFkLEVBQWtCO0FBQ2QsY0FBTUMsYUFBYUQsRUFBbkI7QUFDQSxZQUFJRSxTQUFTLEtBQWI7QUFDQUosMkJBQVVLLE9BQVYsQ0FBbUJDLFFBQUQsSUFBYztBQUM1QixnQkFBSUEsU0FBU0osRUFBVCxLQUFnQkMsVUFBcEIsRUFBZ0M7QUFDNUJDLHlCQUFTRSxRQUFUO0FBQ0g7QUFDRCxtQkFBT0YsTUFBUDtBQUNILFNBTEQ7QUFNQSxlQUFPQSxNQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7O0FBUUEsV0FBT0csTUFBUCxDQUFjQyxNQUFkLEVBQXNCQyxZQUF0QixFQUFvQ0MsZ0JBQXBDLEVBQXNEQyxRQUF0RCxFQUFnRTtBQUM1RCxjQUFNUixhQUFhSCxtQkFBVVksTUFBVixHQUFtQixDQUF0QztBQUNBLGNBQU1DLGNBQWM7QUFDaEJYLGdCQUFJQyxVQURZO0FBRWhCVyx1QkFBV04sTUFGSztBQUdoQk8sdUJBQVcsd0JBQVNDLE1BQVQsQ0FBZ0IsWUFBaEIsQ0FISztBQUloQkMsa0JBQU1SLFlBSlU7QUFLaEJTLHNCQUFVUixnQkFMTTtBQU1oQlMsb0JBQVEsT0FOUTtBQU9oQkMsb0JBQVEsRUFQUTtBQVFoQkMsb0JBQVEsRUFSUTtBQVNoQkMscUJBQVNYO0FBVE8sU0FBcEI7QUFXQSxlQUFPWCxtQkFBVXVCLElBQVYsQ0FBZVYsV0FBZixDQUFQO0FBQ0g7O0FBRUQ7Ozs7OztBQU1BLFdBQU9XLGNBQVAsQ0FBc0JwQixNQUF0QixFQUE4QnFCLFdBQTlCLEVBQTJDO0FBQ3ZDLGNBQU1uQixXQUFXRixNQUFqQjtBQUNBLGNBQU1jLFdBQVdPLFdBQWpCOztBQUVBbkIsaUJBQVNZLFFBQVQsR0FBb0JBLFFBQXBCOztBQUVBLGVBQU9aLFFBQVA7QUFDSDs7QUFFRDs7Ozs7O0FBTUEsV0FBT29CLGFBQVAsQ0FBcUJ0QixNQUFyQixFQUE2QnVCLFVBQTdCLEVBQXlDO0FBQ3JDLGNBQU1yQixXQUFXRixNQUFqQjtBQUNBLGNBQU1rQixVQUFVSyxVQUFoQjs7QUFFQXJCLGlCQUFTZ0IsT0FBVCxHQUFtQkEsT0FBbkI7O0FBRUEsZUFBT2hCLFFBQVA7QUFDSDs7QUFFRCxXQUFPc0IsTUFBUCxDQUFjeEIsTUFBZCxFQUFzQjtBQUNsQixjQUFNRSxXQUFXRixNQUFqQjtBQUNBLGNBQU15QixjQUFjN0IsbUJBQVU4QixPQUFWLENBQWtCeEIsUUFBbEIsQ0FBcEI7O0FBRUFOLDJCQUFVK0IsTUFBVixDQUFpQkYsV0FBakIsRUFBOEIsQ0FBOUI7O0FBRUEsZUFBT3ZCLFFBQVA7QUFDSDtBQXZGTzs7a0JBMEZHUixLIiwiZmlsZSI6Im1vZGVsLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL3VzZXIgcGMvRG9jdW1lbnRzL2lSZXBvcnQvc2VydmVyL21vZGVsIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kZWwgY2xhc3NcclxuXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IGluY2lkZW50cyBmcm9tICcuLi9kYi9kYXRhYmFzZSc7XHJcblxyXG4vKipcclxuICogQGNsYXNzIE1vZGVsXHJcbiAqL1xyXG5jbGFzcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEBzdGF0aWMgZ2F0QWxsXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0QWxsKCkge1xyXG4gICAgICAgIHJldHVybiBpbmNpZGVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAc3RhdGljIGdldE9uZVxyXG4gICAgICogQHBhcmFtIHsqfSBpZFxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldE9uZShpZCkge1xyXG4gICAgICAgIGNvbnN0IGluY2lkZW50SWQgPSBpZDtcclxuICAgICAgICBsZXQgcmVjb3JkID0gZmFsc2U7XHJcbiAgICAgICAgaW5jaWRlbnRzLmZvckVhY2goKGluY2lkZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmNpZGVudC5pZCA9PT0gaW5jaWRlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkID0gaW5jaWRlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGFzeW5jIGNyZWF0ZVxyXG4gICAgICogQHBhcmFtIHsqfSBhdXRob3JcclxuICAgICAqIEBwYXJhbSB7Kn0gaW5jaWRlbnRUeXBlXHJcbiAgICAgKiBAcGFyYW0geyp9IGluY2lkZW50TG9jYXRpb25cclxuICAgICAqIEBwYXJhbSB7Kn0gY29tbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGluY2lkZW50XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGUoYXV0aG9yLCBpbmNpZGVudFR5cGUsIGluY2lkZW50TG9jYXRpb24sIGNvbW1lbnRzKSB7XHJcbiAgICAgICAgY29uc3QgaW5jaWRlbnRJZCA9IGluY2lkZW50cy5sZW5ndGggKyAxO1xyXG4gICAgICAgIGNvbnN0IG5ld0luY2lkZW50ID0ge1xyXG4gICAgICAgICAgICBpZDogaW5jaWRlbnRJZCxcclxuICAgICAgICAgICAgY3JlYXRlZEJ5OiBhdXRob3IsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRPbjogbW9tZW50KCkuZm9ybWF0KCdERC9NTS9ZWVlZJyksXHJcbiAgICAgICAgICAgIHR5cGU6IGluY2lkZW50VHlwZSxcclxuICAgICAgICAgICAgbG9jYXRpb246IGluY2lkZW50TG9jYXRpb24sXHJcbiAgICAgICAgICAgIHN0YXR1czogJ2RyYWZ0JyxcclxuICAgICAgICAgICAgaW1hZ2VzOiBbXSxcclxuICAgICAgICAgICAgdmlkZW9zOiBbXSxcclxuICAgICAgICAgICAgY29tbWVudDogY29tbWVudHMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gaW5jaWRlbnRzLnB1c2gobmV3SW5jaWRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHN0YXRpYyBtb2RpZnlMb2NhdGlvblxyXG4gICAgICogQHBhcmFtIHsqfSByZWNvcmRcclxuICAgICAqIEBwYXJhbSB7Kn0gbmV3TG9jYXRpb25cclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGluY2lkZW50XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBtb2RpZnlMb2NhdGlvbihyZWNvcmQsIG5ld0xvY2F0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgaW5jaWRlbnQgPSByZWNvcmQ7XHJcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcclxuXHJcbiAgICAgICAgaW5jaWRlbnQubG9jYXRpb24gPSBsb2NhdGlvbjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGluY2lkZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHN0YXRpYyBtb2RpZnlDb21tZW50XHJcbiAgICAgKiBAcGFyYW0geyp9IHJlY29yZFxyXG4gICAgICogQHBhcmFtIHsqfSBuZXdDb21tZW50XHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBpbmNpZGVudFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbW9kaWZ5Q29tbWVudChyZWNvcmQsIG5ld0NvbW1lbnQpIHtcclxuICAgICAgICBjb25zdCBpbmNpZGVudCA9IHJlY29yZDtcclxuICAgICAgICBjb25zdCBjb21tZW50ID0gbmV3Q29tbWVudDtcclxuXHJcbiAgICAgICAgaW5jaWRlbnQuY29tbWVudCA9IGNvbW1lbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBpbmNpZGVudDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGVsZXRlKHJlY29yZCkge1xyXG4gICAgICAgIGNvbnN0IGluY2lkZW50ID0gcmVjb3JkO1xyXG4gICAgICAgIGNvbnN0IHJlY29yZEluZGV4ID0gaW5jaWRlbnRzLmluZGV4T2YoaW5jaWRlbnQpO1xyXG5cclxuICAgICAgICBpbmNpZGVudHMuc3BsaWNlKHJlY29yZEluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGluY2lkZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDtcclxuIl19